<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교보 DTS 지원</title>
    <link rel="stylesheet" href="employdetail.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">Easy<span>cruit</span></h1>
            <h2>[교보DTS] Cloud architecture DX Academy(CDA)</h2>
            <h3>참가신청서</h3>
        </div>
    
        <div class="form-section">
            <div class="form-group">
                <label class="form-label">이름</label>
                <input type="text" id="name" name="name" required class="form-input" value="{{ applicant.name }}" disabled>
            </div>
            
            <div class="form-group">
                <label class="form-label">주민번호 앞자리</label>
                <input type="text" id="date_of_birth" name="date_of_birth" required class="form-input" value="{{ applicant.date_of_birth }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">휴대전화</label>
                <input type="tel" id="phone_num" name="phone_num" required class="form-input" value="{{ applicant.phone_num }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">E-mail</label>
                <input type="email" id="email" name="email" required class="form-input" value="{{ applicant.eamil }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">거주지</label>
                <input type="text" id="residence" name="residence" required class="form-input" value="{{ applicant.residence }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">학력사항</label>
                <input type="text" class="form-input" value="{{ applicant.educational_background }}" disabled>
        
            </div>

            <div class="form-group">
                <label class="form-label">학교</label>
                <input type="text" id="school" name="school" class="form-input" value="{{ applicant.school }}" disabled >
            </div>

            <div class="form-group">
                <label class="form-label">전공학과</label>
                <input type="text" id="major" name="major" class="form-input" value="{{ applicant.major }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">IT/클라우드 공인 관련 자격증</label>
                <input type="text" id="certificate" name="certificate" class="form-input" value="{{ applicant.certificate }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">IT 관련 대회, 공모전, 대외활동</label>
                <input type="text" id="certificate" name="certificate"  class="form-input" value="{{ applicant.certificate }}" disabled>
            </div>

            <div class="form-group">
                <label class="form-label">유사교육 수료 경험</label>
                <input type="text" id="education_experience" name="education_experience" class="form-input" value="{{ applicant.education_experience }}" disabled>
    
            </div>

            <div class="form-group">
                <label class="form-label">IT 관련 업무 경험</label>
                <input type="text" id="education_experience" name="education_experience" class="form-input" value="{{ applicant.it_career_experience }}" disabled>
            </div>
    
            <div class="checkbox-section">
                <div class="form-group">
                    <label class="form-label">내일 배움카드 소지여부</label>
                    <!-- 체크박스가 label 아래로 내려오게 조정 -->
                    <div class="checkbox-group">
                        <div class="form-group">
                            <input type="checkbox" id="card_possession-has" name="card_possession" value="has" onclick="handleCheckbox(this)">
                            <label for="card_possession-has" class="inline-label">내일배움카드가 있습니다.</label>
                        </div>
                        <div class="form-group">
                            <input type="checkbox" id="card_possession-will-issue" name="card_possession" value="will-issue" onclick="handleCheckbox(this)">
                            <label for="card_possession-will-issue" class="inline-label">내일배움을 발급 받을 예정입니다.</label>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="form-section">
                <div class="form-group">
                    <label class="form-label">지원동기 및 계획 (최소 50자 이상)</label>
                    <textarea name="motivation_career_plan" id="motivation_career_plan" class="form-input" rows="4" disabled>{{ applicant.motivation_career_plan }}</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">신청 경로</label>
                    <input type="text" id="source_of_info" name="source_of_info" class="form-input" value="{{ applicant.source_of_info }}" disabled>
                </div>
            </div>
            

        <button class="submit-button" onclick="window.close()">닫기</button>
    </div>

    <script>
        window.onload = function() {
            const cardPossessionHas = document.getElementById('card_possession-has');
            const cardPossessionWillIssue = document.getElementById('card_possession-will-issue');
            const hasCardGroup = document.getElementById('has-card');
            const willIssueCardGroup = document.getElementById('will-issue-card');

            // 서버에서 받은 카드 소지 여부 값 ('has', 'will-issue' 또는 아무 값도 없는 상태)
            const cardPossessionValue = ''; // 'has', 'will-issue', 또는 빈 값 가정

            if (cardPossessionValue === 'has') {
                if (cardPossessionHas) {
                    cardPossessionHas.checked = true;
                    cardPossessionHas.disabled = true; // 수정 불가능하도록 설정
                }
                if (willIssueCardGroup) {
                    willIssueCardGroup.style.display = 'none';
                }
            } else if (cardPossessionValue === 'will-issue') {
                if (cardPossessionWillIssue) {
                    cardPossessionWillIssue.checked = true;
                    cardPossessionWillIssue.disabled = true; // 수정 불가능하도록 설정
                }
                if (hasCardGroup) {
                    hasCardGroup.style.display = 'none';
                }
            } else {
                // cardPossessionValue가 빈 문자열 등일 경우, 체크박스는 초기 상태로 유지되어 사용자가 선택 가능
                if (cardPossessionHas) cardPossessionHas.disabled = false;
                if (cardPossessionWillIssue) cardPossessionWillIssue.disabled = false;
            }
        };

        function handleCheckbox(checkbox) {
            const checkboxes = document.querySelectorAll('input[name="card_possession"]');
            checkboxes.forEach((cb) => {
                if (cb !== checkbox) {
                    cb.checked = false;
                }
            });
        }

        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
    </script>
</body>
</html>
